{{ if .Connected -}}
<p><a href="/account">Account page</a></p>
{{ else -}}
<h3>Login</h3>
<form action="/login" method="POST">
	<table>
		<tr>
			<th>Username</th>
			<td><input class="field" type="text" name="username" required="required"></td>
		</tr>
		<tr>
			<th>Password</th>
			<td><input class="field" type="password" name="password" required="required"></td>
		</tr>
{{if .Captcha}}
		<tr>
			<th></th>
			<td class="captcha"><img loading="lazy" src="/captcha" alt="captcha"></td>
		</tr>
		<tr>
			<th>Captcha</th>
			<td><input type="text" id="captcha" name="captcha" required="required"></td>
		</tr>
{{end}}
		<tr>
			<th>2FA Code:</th>
			<td><input class="field" type="text" name="otp"></td>
		</tr>
	</table>
{{if .Error}}
	<p>{{.Error}}</p>
{{end}}
	<input class="btn" type="submit" value="Login">
</form>
{{if .Registration}}
<h3>Register</h3>
<form action="/register" method="POST">
	<table>
		<tr>
			<th>Username</th>
			<td><input class="field" type="text" name="username" required="required"></td>
		</tr>
		<tr>
			<th>Password</th>
			<td><input class="field" type="password" name="password" required="required"></td>
		</tr>
		<tr>
			<th>Confirm Password</th>
			<td><input class="field" type="password" name="password_confirm" required="required"></td>
		</tr>
{{if .Captcha}}
		<tr>
			<th></th>
			<td class="captcha"><img loading="lazy" src="/captcha" alt="captcha"></td>
		</tr>
		<tr>
			<th>Captcha</th>
			<td><input type="text" id="captcha" name="captcha" required="required"></td>
		</tr>
{{end}}
	</table>
	<input class="btn" type="submit" value="Login">
</form>
{{end}}
{{end}}
{{if .Public}}
<p><a href="/repo">Public repositories</a></p>
{{end}}
